"0","#| echo: false"
"0",""
"0","# Create a facet for each album and list the most frequented words for that album"
"0","# https://drsimonj.svbtle.com/ordering-categories-within-ggplot2-facets"
"0",""
"0","library(plotly) # package to make plot interactive"
"0","library(jpeg)"
"0","library(grid)"
"0","# afi_sts_bg<-jpeg::readJPEG(""afi-sing-sorrow.jpg"")"
"0",""
"0","# Prepare only albums for major release"
"0","album_major_release<-c(""Answer That and Stay Fashionable"","
"0","                     ""Very Proud of Ya"","
"0","                     ""Shut Your Mouth and Open Your Eyes"","
"0","                     ""Black Sails in the Sunset"","
"0","                     ""The Art of Drowning"","
"0","                     ""Sing the Sorrow"","
"0","                     ""DECEMBERUNDERGROUND"","
"0","                     ""Crash Love"","
"0","                     ""Burials"","
"0","                     ""AFI (The Blood Album)"","
"0","                     ""Bodies"")"
"0","  "
"0","  # colours for each album"
"0",""
"0","  "
"0","  "
"0","  albumCol <- c(""#c9a95a"", # ATASF      "
"0","              ""#a0480f"", # VPYa    "
"0","              ""#dc4d33"", #SYMAOYE    "
"0","              ""#e86722"", # Black Sails in the Sunset  "
"0","              ""#9f62ad"", # The Art of Drowning     "
"0","              ""#92141c"", # Sing the Sorrow    "
"0","              ""#d6dee5"", # DU"
"0","              ""#f3c937"", # Crash Love    "
"0","              ""#7c7c7c"", # Burials    "
"0","              ""#3b0404"", # AFI (The Blood Album)    "
"0","              ""#595957"") # Bodies"
"0","names(albumCol) <- album_major_release"
"0",""
"0","# This ensures bars are stacked in order of release date"
"0","topFew$album <- factor(topFew$album, levels = album_major_release)"
"0",""
"0",""
"0","wordsPlot <- ggplot(topFew) +"
"0","  "
"0","  geom_bar(aes(x = order, "
"0","               y = n,"
"0","               fill = as.factor(album)),"
"0","           colour = ""#141517"","
"0","           stat = ""identity"","
"0","           show.legend = FALSE) + # removes legend"
"0","  "
"0","  coord_flip() +"
"0","  "
"0","  facet_wrap(~ album ,scales=""free"") +"
"0","  "
"0","  labs(title = ""AFI's Top 10 most frequently used words by album"","
"0","       "
"0","       caption = ""Source: genius.com | by @CalebPicker"","
"0","       y = ""Frequency"","
"0","       x = ""Word"","
"0","       fill = ""Album"") +"
"0","  "
"0","  # annotation_custom(rasterGrob(afi_sts_bg,"
"0","  #                              width = unit(1,""npc""),"
"0","  #                              height = unit(1,""npc"")),"
"0","  #                              -Inf,Inf,-Inf,Inf) +"
"0","  "
"0","  scale_fill_manual(values = albumCol) +"
"0","  "
"0","  # add categories to axis"
"0","  scale_x_continuous("
"0","    breaks = topFew$order,"
"0","    labels = topFew$word,"
"0","    expand = c(0,0)"
"0","  )                                   +"
"0","  "
"0","  theme(title = element_text(face = ""bold"", size = 16), "
"0","        "
"0","        strip.background=element_rect(fill='#141517'),"
"0","        strip.text.x = element_text(color=""#d51020""), # This impacted teh titles for each facet grid"
"0","        strip.text.y = element_text(color=""#d51020""),"
"0","         strip.text = element_text(size=16,color=""#d51020""),"
"0","        "
"0","        panel.border = element_rect(colour = ""#141517"", fill=NA, size=1),"
"0","        panel.background = element_rect(colour = ""#767975"", fill = ""white""),"
"0","        panel.grid.major.x = element_line(colour=""#d51020"",size = 1, linetype = 4),"
"0","        "
"0","        axis.title = element_text(face = ""bold"",size = 16, colour = ""#d51020""),"
"0","        axis.ticks.length = unit(5, units = ""pt""),"
"0","        "
"0","        legend.position=""none"","
"0","        # legend.background = element_rect(color='#141517', fill='#141517'),"
"0","        # legend.title = element_text(color='#d51020'),"
"0","        # legend.position = ""top"","
"0","        # legend.key.size = unit(12,""pt""),"
"0","        # legend.box.spacing = unit(3,""pt""),"
"0","        # legend.text = element_text(size = 12,color='#d51020'),"
"0","        "
"0","        axis.text.y = element_text(size = 12,face=""bold""),"
"0","        axis.text.x = element_text(size = 12,face=""bold""),"
"0","        "
"0","        plot.background=element_rect(fill='#141517',color='#141517'),"
"0","        plot.title=element_text(color='#d51020'),"
"0","        plot.subtitle=element_text(color='#d51020'),"
"0","        "
"0","        )"
"0",""
"0",""
