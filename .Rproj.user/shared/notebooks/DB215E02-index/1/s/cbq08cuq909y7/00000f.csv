"0","#| echo: false"
"0","#| freeze: true"
"0","#| include: false"
"0","#| cache: true"
"0","# Create empty dataframe to house the lyrics"
"0","allLyrics<-data.frame()"
"0","# add lyrics to df"
"0",""
"0","while (length(ids) > 0) {"
"0","  for (id in ids) {"
"0","    tryCatch({"
"0","      allLyrics <- rbind(get_lyrics_id(id,access_token = gen_token), allLyrics)"
"0","      successful <- unique(allLyrics$song_id)"
"0","      ids <- ids[!ids %in% successful]"
"0","      print(paste(""done - "", id))"
"0","      print(paste(""New length is "", length(ids)))"
"0","    }, error = function(e){})"
"0","  }"
"0","}"
"1","[1]"
"1"," ""done -  639568"""
"1","
"
"1","[1]"
"1"," ""New length is  147"""
"1","
"
"1","[1]"
"1"," ""done -  795602"""
"1","
"
"1","[1]"
"1"," ""New length is  146"""
"1","
"
"1","[1]"
"1"," ""done -  785598"""
"1","
"
"1","[1]"
"1"," ""New length is  145"""
"1","
"
"1","[1]"
"1"," ""done -  2955147"""
"1","
"
"1","[1]"
"1"," ""New length is  144"""
"1","
"
"1","[1]"
"1"," ""done -  774964"""
"1","
"
"1","[1]"
"1"," ""New length is  143"""
"1","
"
"1","[1]"
"1"," ""done -  774648"""
"1","
"
"1","[1]"
"1"," ""New length is  142"""
"1","
"
"1","[1]"
"1"," ""done -  795296"""
"1","
"
"1","[1]"
"1"," ""New length is  141"""
"1","
"
"1","[1]"
"1"," ""done -  785446"""
"1","
"
"1","[1]"
"1"," ""New length is  140"""
"1","
"
"1","[1]"
"1"," ""done -  1339362"""
"1","
"
"1","[1]"
"1"," ""New length is  139"""
"1","
"
"1","[1]"
"1"," ""done -  795082"""
"1","
"
"1","[1]"
"1"," ""New length is  138"""
"1","
"
"1","[1]"
"1"," ""done -  760625"""
"1","
"
"1","[1]"
"1"," ""New length is  137"""
"1","
"
"1","[1]"
"1"," ""done -  774932"""
"1","
"
"1","[1]"
"1"," ""New length is  136"""
"1","
"
"1","[1]"
"1"," ""done -  6528425"""
"1","
"
"1","[1]"
"1"," ""New length is  135"""
"1","
"
"1","[1]"
"1"," ""done -  785447"""
"1","
"
"1","[1]"
"1"," ""New length is  134"""
"1","
"
"1","[1]"
"1"," ""done -  6528392"""
"1","
"
"1","[1]"
"1"," ""New length is  133"""
"1","
"
"1","[1]"
"1"," ""done -  250667"""
"1","
"
"1","[1]"
"1"," ""New length is  132"""
"1","
"
"1","[1]"
"1"," ""done -  578770"""
"1","
"
"1","[1]"
"1"," ""New length is  131"""
"1","
"
"1","[1]"
"1"," ""done -  250692"""
"1","
"
"1","[1]"
"1"," ""New length is  130"""
"1","
"
"1","[1]"
"1"," ""done -  1598328"""
"1","
"
"1","[1]"
"1"," ""New length is  129"""
"1","
"
"1","[1]"
"1"," ""done -  784500"""
"1","
"
"1","[1]"
"1"," ""New length is  128"""
"1","
"
"1","[1]"
"1"," ""done -  795982"""
"1","
"
"1","[1]"
"1"," ""New length is  127"""
"1","
"
"1","[1]"
"1"," ""done -  775040"""
"1","
"
"1","[1]"
"1"," ""New length is  126"""
"1","
"
"1","[1]"
"1"," ""done -  785249"""
"1","
"
"1","[1]"
"1"," ""New length is  125"""
"1","
"
"1","[1]"
"1"," ""done -  1601938"""
"1","
"
"1","[1]"
"1"," ""New length is  124"""
"1","
"
"1","[1]"
"1"," ""done -  1653136"""
"1","
"
"1","[1]"
"1"," ""New length is  123"""
"1","
"
"1","[1]"
"1"," ""done -  795492"""
"1","
"
"1","[1]"
"1"," ""New length is  122"""
"1","
"
"1","[1]"
"1"," ""done -  775758"""
"1","
"
"1","[1]"
"1"," ""New length is  121"""
"1","
"
"1","[1]"
"1"," ""done -  250671"""
"1","
"
"1","[1]"
"1"," ""New length is  120"""
"1","
"
"1","[1]"
"1"," ""done -  2955156"""
"1","
"
"1","[1]"
"1"," ""New length is  119"""
"1","
"
"1","[1]"
"1"," ""done -  250673"""
"1","
"
"1","[1]"
"1"," ""New length is  118"""
"1","
"
"1","[1]"
"1"," ""done -  6528426"""
"1","
"
"1","[1]"
"1"," ""New length is  117"""
"1","
"
"1","[1]"
"1"," ""done -  784923"""
"1","
"
"1","[1]"
"1"," ""New length is  116"""
"1","
"
"1","[1]"
"1"," ""done -  6528423"""
"1","
"
"1","[1]"
"1"," ""New length is  115"""
"1","
"
"1","[1]"
"1"," ""done -  2955149"""
"1","
"
"1","[1]"
"1"," ""New length is  114"""
"1","
"
"1","[1]"
"1"," ""done -  780048"""
"1","
"
"1","[1]"
"1"," ""New length is  113"""
"1","
"
"1","[1]"
"1"," ""done -  785016"""
"1","
"
"1","[1]"
"1"," ""New length is  112"""
"1","
"
"1","[1]"
"1"," ""done -  6381343"""
"1","
"
"1","[1]"
"1"," ""New length is  111"""
"1","
"
"1","[1]"
"1"," ""done -  776006"""
"1","
"
"1","[1]"
"1"," ""New length is  110"""
"1","
"
"1","[1]"
"1"," ""done -  785032"""
"1","
"
"1","[1]"
"1"," ""New length is  109"""
"1","
"
"1","[1]"
"1"," ""done -  6528422"""
"1","
"
"1","[1]"
"1"," ""New length is  108"""
"1","
"
"1","[1]"
"1"," ""done -  2955153"""
"1","
"
"1","[1]"
"1"," ""New length is  107"""
"1","
"
"1","[1]"
"1"," ""done -  785539"""
"1","
"
"1","[1]"
"1"," ""New length is  106"""
"1","
"
"1","[1]"
"1"," ""done -  774365"""
"1","
"
"1","[1]"
"1"," ""New length is  105"""
"1","
"
"1","[1]"
"1"," ""done -  2955116"""
"1","
"
"1","[1]"
"1"," ""New length is  104"""
"1","
"
"1","[1]"
"1"," ""done -  250672"""
"1","
"
"1","[1]"
"1"," ""New length is  103"""
"1","
"
"1","[1]"
"1"," ""done -  782812"""
"1","
"
"1","[1]"
"1"," ""New length is  102"""
"1","
"
"1","[1]"
"1"," ""done -  795075"""
"1","
"
"1","[1]"
"1"," ""New length is  101"""
"1","
"
"1","[1]"
"1"," ""done -  774704"""
"1","
"
"1","[1]"
"1"," ""New length is  100"""
"1","
"
"1","[1]"
"1"," ""done -  775712"""
"1","
"
"1","[1]"
"1"," ""New length is  99"""
"1","
"
"1","[1]"
"1"," ""done -  1754131"""
"1","
"
"1","[1]"
"1"," ""New length is  98"""
"1","
"
"1","[1]"
"1"," ""done -  2955146"""
"1","
"
"1","[1]"
"1"," ""New length is  97"""
"1","
"
"1","[1]"
"1"," ""done -  775015"""
"1","
"
"1","[1]"
"1"," ""New length is  96"""
"1","
"
"1","[1]"
"1"," ""done -  785705"""
"1","
"
"1","[1]"
"1"," ""New length is  95"""
"1","
"
"1","[1]"
"1"," ""done -  2221266"""
"1","
"
"1","[1]"
"1"," ""New length is  94"""
"1","
"
"1","[1]"
"1"," ""done -  795371"""
"1","
"
"1","[1]"
"1"," ""New length is  93"""
"1","
"
"1","[1]"
"1"," ""done -  784728"""
"1","
"
"1","[1]"
"1"," ""New length is  92"""
"1","
"
"1","[1]"
"1"," ""done -  775236"""
"1","
"
"1","[1]"
"1"," ""New length is  91"""
"1","
"
"1","[1]"
"1"," ""done -  331412"""
"1","
"
"1","[1]"
"1"," ""New length is  90"""
"1","
"
"1","[1]"
"1"," ""done -  794991"""
"1","
"
"1","[1]"
"1"," ""New length is  89"""
"1","
"
"1","[1]"
"1"," ""done -  785144"""
"1","
"
"1","[1]"
"1"," ""New length is  88"""
"1","
"
"1","[1]"
"1"," ""done -  6526438"""
"1","
"
"1","[1]"
"1"," ""New length is  87"""
"1","
"
"1","[1]"
"1"," ""done -  748583"""
"1","
"
"1","[1]"
"1"," ""New length is  86"""
"1","
"
"1","[1]"
"1"," ""done -  795198"""
"1","
"
"1","[1]"
"1"," ""New length is  85"""
"1","
"
"1","[1]"
"1"," ""done -  1747635"""
"1","
"
"1","[1]"
"1"," ""New length is  84"""
"1","
"
"1","[1]"
"1"," ""done -  774717"""
"1","
"
"1","[1]"
"1"," ""New length is  83"""
"1","
"
"1","[1]"
"1"," ""done -  250663"""
"1","
"
"1","[1]"
"1"," ""New length is  82"""
"1","
"
"1","[1]"
"1"," ""done -  221444"""
"1","
"
"1","[1]"
"1"," ""New length is  81"""
"1","
"
"1","[1]"
"1"," ""done -  775569"""
"1","
"
"1","[1]"
"1"," ""New length is  80"""
"1","
"
"1","[1]"
"1"," ""done -  774791"""
"1","
"
"1","[1]"
"1"," ""New length is  79"""
"1","
"
"1","[1]"
"1"," ""done -  785392"""
"1","
"
"1","[1]"
"1"," ""New length is  78"""
"1","
"
"1","[1]"
"1"," ""done -  6528427"""
"1","
"
"1","[1]"
"1"," ""New length is  77"""
"1","
"
"1","[1]"
"1"," ""done -  794979"""
"1","
"
"1","[1]"
"1"," ""New length is  76"""
"1","
"
"1","[1]"
"1"," ""done -  785113"""
"1","
"
"1","[1]"
"1"," ""New length is  75"""
"1","
"
"1","[1]"
"1"," ""done -  775232"""
"1","
"
"1","[1]"
"1"," ""New length is  74"""
"1","
"
"1","[1]"
"1"," ""done -  1365345"""
"1","
"
"1","[1]"
"1"," ""New length is  73"""
"1","
"
"1","[1]"
"1"," ""done -  795275"""
"1","
"
"1","[1]"
"1"," ""New length is  72"""
"1","
"
"1","[1]"
"1"," ""done -  6528424"""
"1","
"
"1","[1]"
"1"," ""New length is  71"""
"1","
"
"1","[1]"
"1"," ""done -  775543"""
"1","
"
"1","[1]"
"1"," ""New length is  70"""
"1","
"
"1","[1]"
"1"," ""done -  250679"""
"1","
"
"1","[1]"
"1"," ""New length is  69"""
"1","
"
"1","[1]"
"1"," ""done -  784530"""
"1","
"
"1","[1]"
"1"," ""New length is  68"""
"1","
"
"1","[1]"
"1"," ""done -  794893"""
"1","
"
"1","[1]"
"1"," ""New length is  67"""
"1","
"
"1","[1]"
"1"," ""done -  2955150"""
"1","
"
"1","[1]"
"1"," ""New length is  66"""
"1","
"
"1","[1]"
"1"," ""done -  795115"""
"1","
"
"1","[1]"
"1"," ""New length is  65"""
"1","
"
"1","[1]"
"1"," ""done -  775789"""
"1","
"
"1","[1]"
"1"," ""New length is  64"""
"1","
"
"1","[1]"
"1"," ""done -  775021"""
"1","
"
"1","[1]"
"1"," ""New length is  63"""
"1","
"
"1","[1]"
"1"," ""done -  775319"""
"1","
"
"1","[1]"
"1"," ""New length is  62"""
"1","
"
"1","[1]"
"1"," ""done -  1754718"""
"1","
"
"1","[1]"
"1"," ""New length is  61"""
"1","
"
"1","[1]"
"1"," ""done -  785135"""
"1","
"
"1","[1]"
"1"," ""New length is  60"""
"1","
"
"1","[1]"
"1"," ""done -  2955154"""
"1","
"
"1","[1]"
"1"," ""New length is  59"""
"1","
"
"1","[1]"
"1"," ""done -  250669"""
"1","
"
"1","[1]"
"1"," ""New length is  58"""
"1","
"
"1","[1]"
"1"," ""done -  775804"""
"1","
"
"1","[1]"
"1"," ""New length is  57"""
"1","
"
"1","[1]"
"1"," ""done -  2893269"""
"1","
"
"1","[1]"
"1"," ""New length is  56"""
"1","
"
"1","[1]"
"1"," ""done -  784700"""
"1","
"
"1","[1]"
"1"," ""New length is  55"""
"1","
"
"1","[1]"
"1"," ""done -  2955148"""
"1","
"
"1","[1]"
"1"," ""New length is  54"""
"1","
"
"1","[1]"
"1"," ""done -  2955145"""
"1","
"
"1","[1]"
"1"," ""New length is  53"""
"1","
"
"1","[1]"
"1"," ""done -  484289"""
"1","
"
"1","[1]"
"1"," ""New length is  52"""
"1","
"
"1","[1]"
"1"," ""done -  578637"""
"1","
"
"1","[1]"
"1"," ""New length is  51"""
"1","
"
"1","[1]"
"1"," ""done -  774288"""
"1","
"
"1","[1]"
"1"," ""New length is  50"""
"1","
"
"1","[1]"
"1"," ""done -  775248"""
"1","
"
"1","[1]"
"1"," ""New length is  49"""
"1","
"
"1","[1]"
"1"," ""done -  775044"""
"1","
"
"1","[1]"
"1"," ""New length is  48"""
"1","
"
"1","[1]"
"1"," ""done -  785514"""
"1","
"
"1","[1]"
"1"," ""New length is  47"""
"1","
"
"1","[1]"
"1"," ""done -  776098"""
"1","
"
"1","[1]"
"1"," ""New length is  46"""
"1","
"
"1","[1]"
"1"," ""done -  775598"""
"1","
"
"1","[1]"
"1"," ""New length is  45"""
"1","
"
"1","[1]"
"1"," ""done -  795308"""
"1","
"
"1","[1]"
"1"," ""New length is  44"""
"1","
"
"1","[1]"
"1"," ""done -  423028"""
"1","
"
"1","[1]"
"1"," ""New length is  43"""
"1","
"
"1","[1]"
"1"," ""done -  784489"""
"1","
"
"1","[1]"
"1"," ""New length is  42"""
"1","
"
"1","[1]"
"1"," ""done -  1558525"""
"1","
"
"1","[1]"
"1"," ""New length is  41"""
"1","
"
"1","[1]"
"1"," ""done -  250685"""
"1","
"
"1","[1]"
"1"," ""New length is  40"""
"1","
"
"1","[1]"
"1"," ""done -  250665"""
"1","
"
"1","[1]"
"1"," ""New length is  39"""
"1","
"
"1","[1]"
"1"," ""done -  774985"""
"1","
"
"1","[1]"
"1"," ""New length is  38"""
"1","
"
"1","[1]"
"1"," ""done -  775292"""
"1","
"
"1","[1]"
"1"," ""New length is  37"""
"1","
"
"1","[1]"
"1"," ""done -  784944"""
"1","
"
"1","[1]"
"1"," ""New length is  36"""
"1","
"
"1","[1]"
"1"," ""done -  775226"""
"1","
"
"1","[1]"
"1"," ""New length is  35"""
"1","
"
"1","[1]"
"1"," ""done -  795277"""
"1","
"
"1","[1]"
"1"," ""New length is  34"""
"1","
"
"1","[1]"
"1"," ""done -  337913"""
"1","
"
"1","[1]"
"1"," ""New length is  33"""
"1","
"
"1","[1]"
"1"," ""done -  785466"""
"1","
"
"1","[1]"
"1"," ""New length is  32"""
"1","
"
"1","[1]"
"1"," ""done -  113133"""
"1","
"
"1","[1]"
"1"," ""New length is  31"""
"1","
"
"1","[1]"
"1"," ""done -  775519"""
"1","
"
"1","[1]"
"1"," ""New length is  30"""
"1","
"
"1","[1]"
"1"," ""done -  250712"""
"1","
"
"1","[1]"
"1"," ""New length is  29"""
"1","
"
"1","[1]"
"1"," ""done -  775695"""
"1","
"
"1","[1]"
"1"," ""New length is  28"""
"1","
"
"1","[1]"
"1"," ""done -  775618"""
"1","
"
"1","[1]"
"1"," ""New length is  27"""
"1","
"
"1","[1]"
"1"," ""done -  775400"""
"1","
"
"1","[1]"
"1"," ""New length is  26"""
"1","
"
"1","[1]"
"1"," ""done -  795061"""
"1","
"
"1","[1]"
"1"," ""New length is  25"""
"1","
"
"1","[1]"
"1"," ""done -  1746580"""
"1","
"
"1","[1]"
"1"," ""New length is  24"""
"1","
"
"1","[1]"
"1"," ""done -  6378616"""
"1","
"
"1","[1]"
"1"," ""New length is  23"""
"1","
"
"1","[1]"
"1"," ""done -  775456"""
"1","
"
"1","[1]"
"1"," ""New length is  22"""
"1","
"
"1","[1]"
"1"," ""done -  774437"""
"1","
"
"1","[1]"
"1"," ""New length is  21"""
"1","
"
"1","[1]"
"1"," ""done -  786098"""
"1","
"
"1","[1]"
"1"," ""New length is  20"""
"1","
"
"1","[1]"
"1"," ""done -  785209"""
"1","
"
"1","[1]"
"1"," ""New length is  19"""
"1","
"
"1","[1]"
"1"," ""done -  775832"""
"1","
"
"1","[1]"
"1"," ""New length is  18"""
"1","
"
"1","[1]"
"1"," ""done -  2893915"""
"1","
"
"1","[1]"
"1"," ""New length is  17"""
"1","
"
"1","[1]"
"1"," ""done -  785147"""
"1","
"
"1","[1]"
"1"," ""New length is  16"""
"1","
"
"1","[1]"
"1"," ""done -  775952"""
"1","
"
"1","[1]"
"1"," ""New length is  15"""
"1","
"
"1","[1]"
"1"," ""done -  1817423"""
"1","
"
"1","[1]"
"1"," ""New length is  14"""
"1","
"
"1","[1]"
"1"," ""done -  2922862"""
"1","
"
"1","[1]"
"1"," ""New length is  13"""
"1","
"
"1","[1]"
"1"," ""done -  2894311"""
"1","
"
"1","[1]"
"1"," ""New length is  12"""
"1","
"
"1","[1]"
"1"," ""done -  775129"""
"1","
"
"1","[1]"
"1"," ""New length is  11"""
"1","
"
"1","[1]"
"1"," ""done -  775912"""
"1","
"
"1","[1]"
"1"," ""New length is  10"""
"1","
"
"1","[1]"
"1"," ""done -  785077"""
"1","
"
"1","[1]"
"1"," ""New length is  9"""
"1","
"
"1","[1]"
"1"," ""done -  784669"""
"1","
"
"1","[1]"
"1"," ""New length is  8"""
"1","
"
"1","[1]"
"1"," ""done -  795375"""
"1","
"
"1","[1]"
"1"," ""New length is  7"""
"1","
"
"1","[1]"
"1"," ""done -  250676"""
"1","
"
"1","[1]"
"1"," ""New length is  6"""
"1","
"
"1","[1]"
"1"," ""done -  779322"""
"1","
"
"1","[1]"
"1"," ""New length is  5"""
"1","
"
"1","[1]"
"1"," ""done -  1762923"""
"1","
"
"1","[1]"
"1"," ""New length is  4"""
"1","
"
"1","[1]"
"1"," ""done -  2955155"""
"1","
"
"1","[1]"
"1"," ""New length is  3"""
"1","
"
"1","[1]"
"1"," ""done -  795119"""
"1","
"
"1","[1]"
"1"," ""New length is  2"""
"1","
"
"1","[1]"
"1"," ""done -  6528428"""
"1","
"
"1","[1]"
"1"," ""New length is  1"""
"1","
"
"1","[1]"
"1"," ""done -  785038"""
"1","
"
"1","[1]"
"1"," ""New length is  0"""
"1","
"
"0","# create copy of all Lyrics"
"0","allLyrics_orig<-allLyrics"
"0",""
"0","# create dtaframe with lyrics for all songs and add empty column for album info"
"0","allIds <- data.frame(song_id = unique(allLyrics$song_id))"
"0","allIds$album <- """""
